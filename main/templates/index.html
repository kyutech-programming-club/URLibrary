{% extends "layout.html" %}  <!-- layout.html の引き継ぎ -->

{% block body %}
<script type="text/javascript">

  // ドラッグ開始時にデータの値を設定する
  function DragStart(event) {
    event.dataTransfer.setData("text", event.target.id);
  }

// ドロップ時に元のドラッグ値を取得し、現在の要素上に入れ子で保存する
function Drop(event) {
  var id = event.dataTransfer.getData("text");
  var elm = document.getElementById(id);
  event.currentTarget.appendChild(elm);
  event.preventDefault();
}

// ブラウザ標準のドロップ動作をキャンセル
function DragOver(event) {
  event.preventDefault();
}
</script>


  <h1>Time Line</h1>
  <div class="dd1" id="list1">
  {% for url in urls %}
  <div>
    <a href="{{url.url}}">{{url.url}}</a>
    <br>
    <p>{{url.title}}</p>
  </div>
  {% endfor %}


  <h1>Favos</h1>

  <div class="dd2" id="list2">
    {% for favo in favos %}
    <a href="{{favo.url}}">{{favo.url}}</a>
    <br>
    <p>{{favo.title}}</p>
    {% endfor %}
  </div>
  
<script type="text/javascript">
  new Sortable(document.getElementById('list1'), {
  group: 'shared',
	  filter:"<a>",
  onEnd: function (/**Event*/evt) {
	var itemEl = evt.item;  // dragged HTMLElement
	console.log(itemEl);
    console.log(itemEl.children[0]['text']);
    console.log(itemEl.children[2]['innerText'])
  }
  });
  
new Sortable(document.getElementById('list2'), { group: 'shared' , filter:"<a>"});
</script>

{% endblock %}
